<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Laravel Administrator Documentation by FrozenNode</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>Laravel Administrator Documentation</h1>
        <p>An administrative interface bundle for Laravel</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/FrozenNode/Laravel-Administrator" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/FrozenNode/Laravel-Administrator/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/FrozenNode/Laravel-Administrator/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <p>Administrator is a database interface bundle for the Laravel PHP framework. Administrator provides a visual interface to manage the data models on your site as you define them. In its most basic configuration, all you have to do is extend your application's Eloquent data models and provide a couple more configuration options.</p>

<p>To install Administrator, you can either create a bundle directory called <code>administrator</code> and manually copy the bundle contents into it, or you can run the artisan command:</p>

<div class="highlight"><pre><span class="nx">php</span> <span class="nx">artisan</span> <span class="nx">bundle</span><span class="o">:</span><span class="nx">install</span> <span class="nx">administrator</span>
</pre></div>

<p>Then add this to your <code>bundles.php</code> array:</p>

<div class="highlight"><pre><span class="s1">'administrator'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'handles'</span> <span class="o">=&gt;</span> <span class="s1">'admin'</span><span class="p">,</span> <span class="c1">//determines what URI this bundle will use</span>
    <span class="s1">'auto'</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
<span class="p">),</span>
</pre></div>

<p>Once the bundle is installed, create a new file in your application config called administrator.php (<code>application/config/administrator.php</code>). Then copy the contents of the bundle's config file (<code>administrator/config/administrator.php</code>) and put it into the application config file you just created.</p>

<h1>Config</h1>

<p>The configuration is detailed below. The models array requires a 'title' and a 'model' key, both of which are strings, and the latter being the fully-qualified class name of your admin model. It also accepts an optional 'permission_check' property which should be a function that returns a boolean which Administrator uses to determine if the current user is allowed to access this model. This runs after the auth_check function, so you don't need to check for general authentication again in the model's permission_check. If the model can be accessed by all users who pass the auth_check, then you don't need to provide a permission_check for that model.</p>

<div class="highlight"><pre><span class="sd">/**</span>
<span class="sd"> * Page title</span>
<span class="sd"> *</span>
<span class="sd"> * @type string</span>
<span class="sd"> */</span>
<span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Admin'</span><span class="p">,</span>

<span class="sd">/**</span>
<span class="sd"> * Models</span>
<span class="sd"> *</span>
<span class="sd"> * @type array</span>
<span class="sd"> *</span>
<span class="sd"> * Each item in the array should itself be an array with two required items inside it (title, model) and two optional items (single, permission_check).</span>
<span class="sd"> * The key will be what the user sees as the URI for this model.</span>
<span class="sd"> *</span>
<span class="sd"> * 'user' =&gt; array(</span>
<span class="sd"> *      'title' =&gt; 'Users', //The title that will be used when displaying the model's page</span>
<span class="sd"> *      'single' =&gt; 'user', //The name used for singular items. Film model would be 'film'. BoxOffice model might be 'take'</span>
<span class="sd"> *      'model' =&gt; 'AdminModels\\User', //The string class name of the model you will be using. If you wish to extend your app models directly, you can just pass in 'User'. Beware, though: your model will need to have the required properties on it for Administrator to recognize it.</span>
<span class="sd"> *      'permission_check' =&gt; function() { ... }, //[OPTIONAL] Return bool true if the current user is allowed to access this model. False otherwise</span>
<span class="sd"> * )</span>
<span class="sd"> */</span>
<span class="s1">'models'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'user'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Users'</span><span class="p">,</span>
        <span class="s1">'single'</span> <span class="o">=&gt;</span> <span class="s1">'user'</span><span class="p">,</span>
        <span class="s1">'model'</span> <span class="o">=&gt;</span> <span class="s1">'AdminModels\\User'</span><span class="p">,</span> <span class="c1">//This is just a fully-qualified classname. Here I've namespaced my admin models to AdminModels so I can reuse the "User" classname.</span>
    <span class="p">),</span>
    <span class="s1">'role'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Roles'</span><span class="p">,</span>
        <span class="s1">'single'</span> <span class="o">=&gt;</span> <span class="s1">'role'</span><span class="p">,</span>
        <span class="s1">'model'</span> <span class="o">=&gt;</span> <span class="s1">'AdminModels\\Role'</span><span class="p">,</span>
        <span class="s1">'permission_check'</span> <span class="o">=&gt;</span> <span class="k">function</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">//An example permission check using the Authority bundle:</span>
            <span class="k">return</span> <span class="nx">Auth</span><span class="o">::</span><span class="na">user</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">has_role</span><span class="p">(</span><span class="s1">'superadmin'</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">),</span>
    <span class="s1">'hat'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Hats'</span><span class="p">,</span>
        <span class="s1">'single'</span> <span class="o">=&gt;</span> <span class="s1">'hat'</span><span class="p">,</span>
        <span class="s1">'model'</span> <span class="o">=&gt;</span> <span class="s1">'Hat'</span><span class="p">,</span> <span class="c1">//In this case I'm just using the un-namespaced "Hat" class/model.</span>
    <span class="p">),</span>
    <span class="s1">'film'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Films'</span><span class="p">,</span>
        <span class="s1">'single'</span> <span class="o">=&gt;</span> <span class="s1">'film'</span><span class="p">,</span>
        <span class="s1">'model'</span> <span class="o">=&gt;</span> <span class="s1">'Film'</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">),</span>

<span class="sd">/**</span>
<span class="sd"> * Auth Check</span>
<span class="sd"> *</span>
<span class="sd"> * @type closure</span>
<span class="sd"> *</span>
<span class="sd"> * This is a closure that should return true if the current user is allowed to view the admin section. If this fails, it will redirect the user to the login_path. This is run prior to the model's permission_check closure (if provided). Consider this a catch-all for the entire admin section.</span>
<span class="sd"> */</span>
<span class="s1">'auth_check'</span><span class="o">=&gt;</span> <span class="k">function</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">//An example auth check using the Authority bundle:</span>
    <span class="k">return</span> <span class="nx">Auth</span><span class="o">::</span><span class="na">check</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="nx">Auth</span><span class="o">::</span><span class="na">user</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">has_role</span><span class="p">(</span><span class="s1">'admin'</span><span class="p">);</span>
<span class="p">},</span>

<span class="sd">/**</span>
<span class="sd"> * Login Path</span>
<span class="sd"> *</span>
<span class="sd"> * @type string</span>
<span class="sd"> *</span>
<span class="sd"> * This is the path where Administrator will send the user if the the auth_check fails</span>
<span class="sd"> */</span>
<span class="s1">'login_path'</span> <span class="o">=&gt;</span> <span class="s1">'user/login'</span><span class="p">,</span>

<span class="sd">/**</span>
<span class="sd"> * Redirect key</span>
<span class="sd"> *</span>
<span class="sd"> * @type string</span>
<span class="sd"> *</span>
<span class="sd"> * This comes with the redirection to your login_action. Input::get('redirect') will hold the return URL.</span>
<span class="sd"> */</span>
<span class="s1">'login_redirect_key'</span> <span class="o">=&gt;</span> <span class="s1">'redirect'</span><span class="p">,</span>

<span class="sd">/**</span>
<span class="sd"> * Global items per page</span>
<span class="sd"> *</span>
<span class="sd"> * @type NULL|int</span>
<span class="sd"> *</span>
<span class="sd"> * If you set this to an integer value greater than 0, it will override the $per_page static property in ALL of your models</span>
<span class="sd"> * If you set this to false/NULL/0, each model's $per_page property will be used</span>
<span class="sd"> */</span>
<span class="s1">'global_per_page'</span> <span class="o">=&gt;</span> <span class="k">NULL</span><span class="p">,</span>
</pre></div>

<h1>Data Models</h1>

<p>This bundle was designed to take advantage of the data models that already exist on your site (normally in <code>application/models</code>). Administrator data models should ultimately extend from an Eloquent data model with several additional required properties ($columns, $filters, $edit ...see below for info on these). As long as you provide the fully-qualified class name in the config (see above), Administrator will be able to use the model. This means that you have several organizational options:</p>

<ul>
<li><p>Use your existing Eloquent models and add the required properties</p></li>
<li><p>Create new models that extend your existing Eloquent models and prefix them with something like <code>Admin_</code> so there are no namespace collisions. This would allow you to keep your Administrator properties separated from your regular models.</p></li>
<li><p>(preferred) Create new models that extend your existing Eloquent models and namespace them to something like <code>AdminModels</code>. This also would separate your Administrator properties from your base model.</p></li>
</ul><p>The last option has (in my opinion) the best of all worlds: it would allow you to retain your clear model names, avoid namespace collisions, and keep your Administrator properties separated from your regular Eloquent models.</p>

<p>What I like to do is create a directory under my models directory called <code>admin</code>. Each of the models in this directory can extend any Eloquent-based class (which means Eloquent, Aware, or your base models)</p>

<h4>Extending from Eloquent</h4>

<div class="highlight"><pre><span class="k">namespace</span> <span class="nx">AdminModels</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">User</span> <span class="k">extends</span> <span class="nx">\Eloquent</span>
<span class="p">{</span> <span class="o">..</span> <span class="p">}</span>
</pre></div>

<h4>Extending from Aware</h4>

<div class="highlight"><pre><span class="k">namespace</span> <span class="nx">AdminModels</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">User</span> <span class="k">extends</span> <span class="nx">\Aware</span>
<span class="p">{</span> <span class="o">..</span> <span class="p">}</span>
</pre></div>

<h4>Extending from an existing User model</h4>

<div class="highlight"><pre><span class="k">namespace</span> <span class="nx">AdminModels</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">User</span> <span class="k">extends</span> <span class="nx">\User</span>
<span class="p">{</span> <span class="o">..</span> <span class="p">}</span>
</pre></div>

<p>If you're using the namespace approach as I did above, make sure you add that backslash in front of the class you're extending. This tells PHP to look in the base namespace.</p>

<p>In the first two examples, you need to set up the model as if it were any other Eloquent/Aware model. You will need to make a <code>$rules</code> array that works just like Aware's.</p>

<p>Now let's take a look at the properties that you can set on Administrator models and what they mean. Keep in mind that since these are Eloquent models, all of the traditional properties apply (e.g. $per_page, $table).</p>

<h2>$columns</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/columns.png"></p>

<p>This property tells Administrator what columns to use when displaying the tabular result set. You can either pass it a simple string which will be used as the data key (i.e. if your database column is called <code>potato_farming_score</code>, put that in), or you can pass it a key-indexed array of options. In this case, the array key will be <code>potato_farming_score</code> and it would contain an array of options.</p>

<p>When defining relational or getter columns, you have several extra options.</p>

<p>If you want to make a column have the value of a getter, you can do that easily. However, if you do so without setting a valid <code>sort_field</code> value, the column won't be sortable. The sort_field should be used when you're using a getter as a column key so that Administrator knows which column to sort.</p>

<p>If you want to get a field from another table through a relationship, you'll have to set the <code>relationship</code> option to the <em>method name</em> of the relationship and provide a valid select statement for your SQL driver. Since the result set is grouped by the current data model's primary key, this means you can use any of the grouping functions (like COUNT, AVG, MIN, MAX, etc.).</p>

<p>The available options are:</p>

<ul>
<li>
<strong>title</strong>: default is column name</li>
<li>
<strong>sort_field</strong>: default is the field key (i.e. if you do 'name' like below, it will look for the 'name' column). If this column is derived from a getter, it won't be sortable until you define a sort_field</li>
<li>
<strong>relationship</strong>: default is null. Set this to the method name of the relationship. Only set this if you need to pull this field from another table</li>
<li>
<strong>select</strong>: default is null. This can be used for relationship columns or on-table columns. If it's an on-table column, you can use any regular SQL select function (e.g. IF, CONCAT, etc.). If you've set the relationship, this has to be set as well. It is the SQL command to use to select this field. So if you want to count the related items, you'd do 'COUNT((:table).id)' where (:table) is substituted for the adjoining table. If you don't include the (:table), SQL will likely throw an ambiguous field error. You can use any of the SQL grouping functions or you can simply provide the name of the field you'd like to use.</li>
</ul><div class="highlight"><pre><span class="k">public</span> <span class="nv">$columns</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'id'</span><span class="p">,</span>
    <span class="s1">'name'</span><span class="p">,</span>
    <span class="s1">'price'</span><span class="p">,</span>
    <span class="s1">'formatted_salary'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Salary'</span><span class="p">,</span>
        <span class="s1">'sort_field'</span> <span class="o">=&gt;</span> <span class="s1">'salary'</span><span class="p">,</span> <span class="c1">//must be a valid field on the model's table</span>
    <span class="p">),</span>
    <span class="s1">'is_good'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Is Good'</span><span class="p">,</span>
        <span class="s1">'select'</span> <span class="o">=&gt;</span> <span class="s2">"IF((:table).is_good, 'yes', 'no')"</span><span class="p">,</span> <span class="c1">//here using a select for items on this table</span>
    <span class="p">),</span>
    <span class="s1">'num_films'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'# films'</span><span class="p">,</span>
        <span class="s1">'relationship'</span> <span class="o">=&gt;</span> <span class="s1">'films'</span><span class="p">,</span> <span class="c1">//must be the relationship method name</span>
        <span class="s1">'select'</span> <span class="o">=&gt;</span> <span class="s1">'COUNT((:table).id)'</span><span class="p">,</span> <span class="c1">//the (:table) is replaced with the relevant relationship table</span>
    <span class="p">),</span>
    <span class="s1">'created_at'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Created'</span><span class="p">,</span> <span class="c1">//the header title of the column</span>
    <span class="p">),</span>
    <span class="s1">'updated_at'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Updated'</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">);</span>
</pre></div>

<h2>$edit</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/edit-form.png"></p>

<p>This property tells Administrator what columns to use when editing an item. You can either pass it a simple string which will be used as the data key (i.e. if your database column is called <code>name</code>, put that in), or you can pass it a key-indexed array of options. In this case, the array key will be <code>name</code> and it would contain an array of options.</p>

<p><strong>If you want to edit a related field, you have to put the relationship method name in the $edit array and use type 'relationship'.</strong></p>

<p>The available options are:</p>

<h3>Common</h3>

<ul>
<li><strong>title</strong></li>
<li>
<strong>type</strong>: default is 'text'. Choices are: relationship, text, textarea, wysiwyg, markdown, date, time, datetime, number, bool, enum</li>
</ul><h3>Relationships</h3>

<ul>
<li>
<strong>name_field</strong>: default is 'name'. Only use this if type is 'relationship'. This is the field on the other table to use for displaying the name/title of the other data model.</li>
<li>
<strong>autocomplete</strong>: default is false. If this is true, the related items won't be prefilled. The user will have to start typing some values which will then be used to create suggestions. <em>(Set this to true if you expect any large amount of records, or it will try to load all rows!)</em>
</li>
<li>
<strong>num_options</strong>: default is 10. If autocomplete is on, this is the number of items to show</li>
<li>
<strong>search_fields</strong>: default is array(name_field). Must be an array. You can supply an on-table column name or a raw SQL function like CONCAT(first_name, ' ', last_name)</li>
<li>
<strong>constraints</strong>: default is array(). Must be an array of string key =&gt; value pairs where the key is the relationship method on this model and the value is the method name on that relationship's model. So let's say you're setting up a film times model where each film time needs a film and a theater. When the user is creating the film time and selects a particular theater, you want to limit the film options to those films that are in that theater. When they select a film, you want to limit the theater options to those theaters that are showing that film. In this case you would put <code>'constraints' =&gt; array('film' =&gt; 'theaters')</code> in the theater relationship field, and <code>'constraints' =&gt; array('theater' =&gt; 'films')</code> in the film relationship field. This only applies when the 'films' and 'theaters' tables/models themselves have a pivot table (i.e. films_theaters).</li>
</ul><h3>Enum</h3>

<ul>
<li>
<strong>options</strong>: default is an empty array. This can either be an array of strings (array('Spring', 'Winter')) or an array of strings indexed on the enum value (array('Spring' =&gt; 'Beautiful Spring!', 'Winter' =&gt; 'Cold Winter! :(')). In the latter case, the key value will be used to save to / query the database.</li>
</ul><h3>Text/Textarea/Markdown</h3>

<ul>
<li>
<strong>limit</strong>: default is 0 (i.e. no character limit).</li>
<li>
<strong>height</strong>: default is 100. Supply any integer value which will be the height in pixels. Only applies to textarea and markdown fields.</li>
</ul><h3>Numbers</h3>

<ul>
<li>
<strong>symbol</strong>: default is NULL. Only use this for 'number' field type.</li>
<li>
<strong>decimals</strong>: default is 0. Only use this for 'number' field type.</li>
<li>
<strong>thousands_separator</strong>: default is ','. Only use this for 'number' field type.</li>
<li>
<strong>decimal_separator</strong>: default is '.'. Only use this for 'number' field type.</li>
</ul><h3>Date/Time</h3>

<ul>
<li>
<strong>date_format</strong>: default is 'yy-mm-dd'. Use this for 'date' and 'datetime' field types. Uses <a href="http://docs.jquery.com/UI/Datepicker/formatDate">jQuery datepicker formatDate</a>.</li>
<li>
<strong>time_format</strong>: default is 'HH:mm'. Use this for 'time' and 'datetime' field types. Uses <a href="http://trentrichardson.com/examples/timepicker/#tp-formatting">jQuery timepicker formatting</a>.</li>
</ul><div class="highlight"><pre><span class="k">public</span> <span class="nv">$edit</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'email'</span><span class="p">,</span>
    <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Name'</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">'is_good'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Is Good'</span><span class="p">,</span>
        <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'bool'</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">'season'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Season'</span><span class="p">,</span>
        <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'enum'</span><span class="p">,</span>
        <span class="s1">'options'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Winter'</span><span class="p">,</span> <span class="s1">'Spring'</span><span class="p">,</span> <span class="s1">'Summer'</span><span class="p">,</span> <span class="s1">'Fall'</span><span class="p">),</span> <span class="c1">//must be an array</span>
    <span class="p">),</span>
    <span class="s1">'birthdate'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Birth Date'</span><span class="p">,</span>
        <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'date'</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">'roles'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Roles'</span><span class="p">,</span>
        <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'relationship'</span><span class="p">,</span>
        <span class="s1">'name_field'</span> <span class="o">=&gt;</span> <span class="s1">'title'</span><span class="p">,</span> <span class="c1">//field on other table to use for the name/title</span>
    <span class="p">),</span>
    <span class="s1">'elements'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Element'</span><span class="p">,</span>
        <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'relationship'</span><span class="p">,</span>
        <span class="s1">'name_field'</span> <span class="o">=&gt;</span> <span class="s1">'name'</span><span class="p">,</span> <span class="c1">//field on other table to use for the name/title</span>
        <span class="s1">'autocomplete'</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s1">'num_options'</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
        <span class="s1">'search_fields'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"CONCAT(first_name, ' ', last_name)"</span><span class="p">),</span>
    <span class="p">),</span>
    <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Price'</span><span class="p">,</span>
        <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'number'</span><span class="p">,</span>
        <span class="s1">'symbol'</span> <span class="o">=&gt;</span> <span class="s1">'$'</span><span class="p">,</span> <span class="c1">//symbol shown in front of the number</span>
        <span class="s1">'decimals'</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="c1">//the number of digits after the decimal point</span>
        <span class="s1">'decimalSeparator'</span> <span class="o">=&gt;</span> <span class="s1">','</span><span class="p">,</span> <span class="c1">//the character to use for the decimal place</span>
        <span class="s1">'thousandsSeparator'</span> <span class="o">=&gt;</span> <span class="s1">'.'</span><span class="p">,</span> <span class="c1">//the character to use between thousands groups</span>
    <span class="p">),</span>
    <span class="s1">'release_date'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Release Date'</span><span class="p">,</span>
        <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'datetime'</span><span class="p">,</span>
        <span class="s1">'date_format'</span> <span class="o">=&gt;</span> <span class="s1">'yy-mm-dd'</span><span class="p">,</span>
        <span class="s1">'time_format'</span> <span class="o">=&gt;</span> <span class="s1">'HH:mm'</span><span class="p">,</span>
    <span class="p">)</span>

<span class="p">);</span>
</pre></div>

<p>If you select the 'relationship' type, the edit form will display either a single- or multi-select box depending on the type of relationship. The Administrator bundle recognizes all types of Eloquent relationships (belongs_to, has_one, has_many, has_many_and_belongs_to), but only belongs_to and has_many_and_belongs_to relationships can be used for editing/filtering. All you have to do is ensure that the key in the $edit array is <strong>the name of the relationship method in your data model</strong>. If you have a User model and your user has many Roles, you'll typically want to have a method that looks like this in Eloquent:</p>

<div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">roles</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">has_many_and_belongs_to</span><span class="p">(</span><span class="s1">'Role'</span><span class="p">,</span> <span class="s1">'role_user'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Similarly, if each of your users has only a <em>single</em> Job, you'll want a method that looks like:</p>

<div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">job</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">has_one</span><span class="p">(</span><span class="s1">'Job'</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Unless you're extending directly from Eloquent/Aware, these methods should already exist in your data models. Here's how each of those would look in your $edit property:</p>

<div class="highlight"><pre><span class="s1">'roles'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Roles'</span><span class="p">,</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'relationship'</span><span class="p">,</span>
<span class="p">),</span>
<span class="s1">'job'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Job'</span><span class="p">,</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'relationship'</span><span class="p">,</span>
    <span class="s1">'name_field'</span> <span class="o">=&gt;</span> <span class="s1">'title'</span><span class="p">,</span> <span class="c1">//this lets Administrator know what column to reference on the Job model. Default is 'name'</span>
<span class="p">),</span>
</pre></div>

<h2>$filters</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/filters.png"></p>

<p>This property tells Administrator what columns to use to build the filterable set. This works almost exactly like the $edit property, so you can either pass it a simple string which will be used as the data key (i.e. if your database column is called <code>name</code>, put that in), or you can pass it a key-indexed array of options. In this case, the array key will be <code>name</code> and it would contain an array of options.</p>

<p>The date/time and number field types automatically get min/max filters where the user can select the range of dates, times, or numbers.</p>

<p><strong>If you want to filter a related field, you have to put the relationship method name in the $filters array and use type 'relationship'.</strong></p>

<p>The available options are the same as the $edit property's options.</p>

<div class="highlight"><pre><span class="k">public</span> <span class="nv">$filters</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'id'</span><span class="p">,</span> <span class="c1">//if this is the name of the primary key for this model, it will be an id lookup, which is useful for quick searches</span>
    <span class="s1">'email'</span><span class="p">,</span>
    <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Name'</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">'birthdate'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Birth Date'</span><span class="p">,</span>
        <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'date'</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="s1">'roles'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Roles'</span><span class="p">,</span>
        <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'relationship'</span><span class="p">,</span>
        <span class="s1">'name_field'</span> <span class="o">=&gt;</span> <span class="s1">'name'</span><span class="p">,</span>
    <span class="p">),</span>

<span class="p">);</span>
</pre></div>

<p>The relationship type behaves just like it does in the $edit array.</p>

<h2>$sortOptions (not required)</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/sorting.png"></p>

<p>The $sortOptions array has these options:</p>

<div class="highlight"><pre><span class="k">public</span> <span class="nv">$sortOptions</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'field'</span> <span class="o">=&gt;</span> <span class="s1">'id'</span><span class="p">,</span>        <span class="c1">//can be any of the supplied keys in the $columns array</span>
    <span class="s1">'direction'</span> <span class="o">=&gt;</span> <span class="s1">'asc'</span><span class="p">,</span>   <span class="c1">//either 'asc' or 'desc'</span>
<span class="p">)</span>
</pre></div>

<p>Naturally, this is only the initial sort. As the user interacts with the table, it will change.</p>

<h2>$expand (not required)</h2>

<p>The $expand property, when used, determines how wide the edit area should be for a model. It can either be set to boolean true to accept the default expand (which is 500px), or it can be set to an integer above 285 (which is the size of the filter area that the edit box covers). This is useful if you want some extra space for a textarea type, a has_many_and_belongs_to relationship with many possible items, etc.</p>

<div class="highlight"><pre><span class="k">public</span> <span class="nv">$expand</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span>
</pre></div>

<h2>before_delete()</h2>

<p>The before_delete() method will always be run before an item is deleted. It's important to know that <strong>Administrator does not automatically delete relationships</strong>. This is done because some people have cascading deletes built into their database, others might want to only delete some related data, and others might want to delete all of it. So if you have a users relationship (has_many_and_belongs_to) on your Role model, you might want to do something like this:</p>

<div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">before_delete</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">//delete the users relationship</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<h2>create_link()</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/create-link.png"></p>

<p>The create_link() method lets you define a model's front-end URL if applicable. If provided, this will show up as a link in the edit form as shown above.</p>

<div class="highlight"><pre><span class="k">public</span> <span class="k">function</span> <span class="nf">create_link</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">//here I have a named route to which I'm passing the id parameter</span>
    <span class="k">return</span> <span class="nx">URL</span><span class="o">::</span><span class="na">to_route</span><span class="p">(</span><span class="s1">'my_named_route'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>

<p>You can construct this URL however you like. In the above example you can see that I used named routes. However, you can also build the URL manually or use controller actions. You could also just return '<a href="http://www.google.com">http://www.google.com</a>' for every item if that's what you want.</p>

<h1>Field Types</h1>

<p>This is a list of all the field types that you can use in the $edit array.</p>

<h2>text</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-text.png"></p>

<div class="highlight"><pre><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'text'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Name'</span><span class="p">,</span>
    <span class="s1">'limit'</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

<p>This is the default type. You can set a character limit by providing an integer value to the 'limit' option</p>

<h2>textarea</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-textarea.png"></p>

<div class="highlight"><pre><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'textarea'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Name'</span><span class="p">,</span>
    <span class="s1">'limit'</span> <span class="o">=&gt;</span> <span class="mi">500</span><span class="p">,</span>
    <span class="s1">'height'</span> <span class="o">=&gt;</span> <span class="mi">130</span><span class="p">,</span> <span class="c1">//default is 100</span>
<span class="p">)</span>
</pre></div>

<p>The textarea is basically the same thing as a text type, except it uses a textarea.</p>

<h2>wysiwyg</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-wysiwyg.png"></p>

<div class="highlight"><pre><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'wysiwyg'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Name'</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

<p>The wysiwyg type is a text field that uses CKEditor. If you use this field you'll likely want to also set the $expand property so that the wysiwyg has enough space on the page.</p>

<h2>markdown</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-markdown.png"></p>

<div class="highlight"><pre><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'markdown'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Name'</span><span class="p">,</span>
    <span class="s1">'height'</span> <span class="o">=&gt;</span> <span class="mi">200</span><span class="p">,</span> <span class="c1">//default is 100</span>
<span class="p">)</span>
</pre></div>

<p>The markdown type lets you create a field that is essentially a text field but shows a preview of the rendered markdown.</p>

<h2>relationship</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-relation-single.png"></p>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-relation-multi.png"></p>

<div class="highlight"><pre><span class="s1">'actors'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'relationship'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Actors'</span><span class="p">,</span>
    <span class="s1">'name_field'</span> <span class="o">=&gt;</span> <span class="s1">'name'</span><span class="p">,</span> <span class="c1">//what column or getter on the other table you want to use to represent this object</span>
    <span class="s1">'constraints'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'film'</span> <span class="o">=&gt;</span> <span class="s1">'actors'</span><span class="p">)</span> <span class="c1">//'film' should be another relationship *in this model* and 'actors' should be a method on the film model</span>
    <span class="s1">'autocomplete'</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span> <span class="c1">//set the following three fields if you want to have an autocomplete select box</span>
    <span class="s1">'num_options'</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">,</span>
    <span class="s1">'search_fields'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s2">"CONCAT(first_name, ' ', last_name)"</span><span class="p">),</span>
<span class="p">)</span>
</pre></div>

<p>The relationship field should have the relationship's method name as its index. The only required option is 'type'. The name_field will be the item's name when displayed in the select boxes. If autocomplete is set to true, you can also provide num_options and search_fields. If constraints are supplied, the key must be the method name of the other relationship you want to couple the constraint, and the value must be the name of the relationship on that relationship's model. Constriants only apply when the models representing the two fields in question themselves have a pivot table (i.e. films_actors).</p>

<h2>number</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-currency.png"></p>

<div class="highlight"><pre><span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'number'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Price'</span><span class="p">,</span>
    <span class="s1">'symbol'</span> <span class="o">=&gt;</span> <span class="s1">'$'</span><span class="p">,</span> <span class="c1">//symbol shown in front of the number</span>
    <span class="s1">'decimals'</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span> <span class="c1">//the number of digits after the decimal point</span>
    <span class="s1">'thousands_separator'</span> <span class="o">=&gt;</span> <span class="s1">','</span><span class="p">,</span>
    <span class="s1">'decimal_separator'</span> <span class="o">=&gt;</span> <span class="s1">'.'</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

<p>The number field should be a numeric field (integer, decimal, float) in your database. The symbol will be displayed before the number if present. The decimal separator will be used if the decimal value is above 0.</p>

<h2>bool</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-bool.png"></p>

<div class="highlight"><pre><span class="s1">'is_good'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'bool'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Is Good'</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

<p>The bool field should be an integer field (usually tinyint(1) or whatever your db supports).</p>

<h2>enum</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-enum.png"></p>

<div class="highlight"><pre><span class="s1">'season'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Season'</span><span class="p">,</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'enum'</span><span class="p">,</span>
    <span class="s1">'options'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Winter'</span><span class="p">,</span> <span class="s1">'Spring'</span><span class="p">,</span> <span class="s1">'Summer'</span><span class="p">,</span> <span class="s1">'Fall'</span><span class="p">),</span> <span class="c1">//must be an array</span>
<span class="p">),</span>
<span class="c1">//alternate method:</span>
<span class="s1">'season'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Season'</span><span class="p">,</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'enum'</span><span class="p">,</span>
    <span class="s1">'options'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'Winter'</span> <span class="o">=&gt;</span> <span class="s1">'Cold, Cold Winter!'</span><span class="p">,</span>
        <span class="s1">'Spring'</span><span class="p">,</span>
        <span class="s1">'Summer'</span> <span class="o">=&gt;</span> <span class="s1">'Hot, Hot Summer!'</span><span class="p">,</span>
        <span class="s1">'Fall'</span>
    <span class="p">),</span>
<span class="p">),</span>
</pre></div>

<p>The enum field gives the user a permanent limited selection of items from which to choose. If an array with string keys is supplied, those string keys will be considered the enum value, while the values will be displayed to the user. You can mix and match these array slots as seen above.</p>

<h2>date</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-date.png"></p>

<div class="highlight"><pre><span class="s1">'start_date'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'date'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Start Date'</span><span class="p">,</span>
    <span class="s1">'date_format'</span> <span class="o">=&gt;</span> <span class="s1">'yy-mm-dd'</span><span class="p">,</span> <span class="c1">//The date format to be shown in the field (in the database it should be a Date type)</span>
<span class="p">)</span>
</pre></div>

<p>Using the date type will set the field up as a jQuery UI datepicker.</p>

<p>The date_format supplied has to be a valid DatePicker date format. You can see a full list here: <a href="http://docs.jquery.com/UI/Datepicker/formatDate">http://docs.jquery.com/UI/Datepicker/formatDate</a>.</p>

<h2>time</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-time.png"></p>

<div class="highlight"><pre><span class="s1">'opening_time'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'time'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Opening Time'</span><span class="p">,</span>
    <span class="s1">'time_format'</span> <span class="o">=&gt;</span> <span class="s1">'HH:mm'</span><span class="p">,</span> <span class="c1">//The time format to be shown in the field</span>
<span class="p">)</span>
</pre></div>

<p>Using the time type will set the field up as a jQuery UI timepicker.</p>

<p>The time format supplied has to be a valid timepicker time format. You can see a full list here: <a href="http://trentrichardson.com/examples/timepicker/#tp-formatting">http://trentrichardson.com/examples/timepicker/#tp-formatting</a>.</p>

<h2>datetime</h2>

<p><img src="https://github.com/FrozenNode/Laravel-Administrator/raw/master/examples/images/field-type-datetime.png"></p>

<div class="highlight"><pre><span class="s1">'game_start_time'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'datetime'</span><span class="p">,</span>
    <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'Start Time'</span><span class="p">,</span>
    <span class="s1">'date_format'</span> <span class="o">=&gt;</span> <span class="s1">'yy-mm-dd'</span><span class="p">,</span> <span class="c1">//The date format to be shown in the field</span>
    <span class="s1">'time_format'</span> <span class="o">=&gt;</span> <span class="s1">'HH:mm'</span><span class="p">,</span> <span class="c1">//The time format to be shown in the field</span>
<span class="p">)</span>
</pre></div>

<p>Using the datetime type will set the field up as a jQuery UI datetimepicker. The formatters are the same as above.</p>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/FrozenNode">FrozenNode</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>